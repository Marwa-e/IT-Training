<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
    integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
    integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
    crossorigin="anonymous"></script>
<div class="container">
    <h1>Interface de saisie (internaute) </h1>
    <h3>Bienvenu à vous</h3>
    {{ currentId }}
    <div class="row">
        <div class="col-6">
            <form class=form (ngSubmit)="ajouterInternaute()" #monForm="ngForm">
                <div class="form-group">
                    <label class="form-text" for="nom">Nom</label>
                    <input class="form-control" type="text" name="nom" [(ngModel)]="internaute.nom" id="nom"
                        #nom="ngModel" value="internaute.nom">
                    <div [hidden]="nom.valid || nom.pristine" class="text-center text-danger">
                        Le nom est obligatoire
                    </div>
                    <label class="form-text" for="prenom">Prenom</label>
                    <input class="form-control" type="text" name="prenom" id="prenom" [(ngModel)]="internaute.prenom"
                        #prenom=ngModel>
                    <div [hidden]="prenom.valid || prenom.pristine" class="text-center text-danger">
                        Le prénom est obligatoire
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-text" for="email">Email</label>
                    <input class="form-control" type="email" name="email" id="email" [(ngModel)]="internaute.email"
                        #email=ngModel>
                    <div [hidden]="email.valid || email.pristine" class="text-center text-danger">
                        L'email est obligatoire
                    </div>
                    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone
                        else.</small>
                </div>

                <div class="form-group">
                    <label class="form-text" for="password">Password</label>
                    <input class="form-control" type="password" name="password" id="password" [(ngModel)]="internaute.password"
                        #password=ngModel>
                    <div [hidden]="password.valid || password.pristine" class="text-center text-danger">
                        L'password est obligatoire
                    </div>
                    <small id="passwordHelp" class="form-text text-muted">We'll never share your password with anyone
                        else.</small>
                </div>

                <div class="form-group">
                    <label class="form-text" for="niveau">Niveau</label>
         
                    <select class="form-control" name="niveau" id="niveau"  #niveau=ngModel [(ngModel)]="internaute.niveau" >
                        <option *ngFor="let elt of niveaux">{{elt.intitule}}</option>
                    </select>
                    <div [hidden]="niveau.valid || niveau.pristine" class="text-center text-danger">
                        L'niveau est obligatoire
                    </div>
                    <small id="niveauHelp" class="form-text text-muted">We'll never share your niveau with anyone
                        else.</small>
                </div>

                <div class="form">
                    <div [hidden]="monForm.valid || monForm.pristine" class="text-danger"> ATTENTION !!! tous les champs
                        doivent être remplis !</div>
                    <button [disabled]="monForm.invalid" class="btn btn-primary">Ajouter</button>
                </div>
            </form>
        </div>
        <div class="col-6">
            <h4 class="text-primary">{{ internaute.nom }}, {{ internaute.prenom }}</h4>
            <p class="text-success">{{internaute.email}}</p>
        </div>
    </div>
    <hr>
    <div class="jumbotron">
        <h3>Liste des internautes</h3>
        <table class="table">
            <thead class="bg-dark text-light">
                <th>id</th>
                <th>nom</th>
                <th>prenom</th>
                <th>email</th>
                <th>niveau</th>
                <th>opérations</th>
            </thead>
            <tbody>
                <tr *ngFor="let elt of internautes" >
                    <td>{{ elt.id }}</td>
                    <td>{{ elt.nom }}</td>
                    <td>{{ elt.prenom }}</td>
                    <td>{{ elt.email }}</td>
                    <td>{{ elt.niveau }}</td>
                    <td>
                        <button class="btn btn-outline-danger" (click)="supprimerInternaute(elt.id ?? 0)">
                        supprimer
                        </button>
                        <!-- <button class="btn" [routerLink]="['/internaute',elt.id ]"><i class="far fa-edit">editer</i></button> -->
                        <button class="btn btn-outline-primary" (click)="afficherInternaute( elt.id ?? 0)"><i class="far fa-edit">editer</i></button>
                    </td>
                </tr>
            </tbody>
        </table>

    </div>
</div>